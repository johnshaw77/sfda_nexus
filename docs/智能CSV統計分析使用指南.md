# 🧠 智能 CSV 統計分析使用指南

## 概述

智能 CSV 統計分析功能讓您可以簡單地上傳 CSV 檔案，然後用自然語言提問，AI 會自動：
- 理解您的數據結構
- 識別適合的統計方法
- 執行統計分析
- 生成易懂的報告

## 🚀 快速開始

### 1. 準備您的 CSV 檔案

確保您的 CSV 檔案：
- 第一行是標題行（欄位名稱）
- 數據格式一致
- 包含足夠的數值數據

### 2. 在 AI 對話中使用

只需要：
1. **上傳 CSV 檔案**（使用 @ 符號引用）
2. **用自然語言提問**

## 📊 支援的分析場景

### 醫療/臨床研究
**適用數據格式**：
- 治療前後對比數據
- 患者基線與追蹤數據
- 藥物效果評估

**範例問題**：
- "治療方案對降低血壓的影響"
- "新藥物是否有效"
- "手術前後的差異"

**AI 會自動識別**：
- 配對 t 檢定（治療前後比較）
- 單尾檢定（期望改善方向）
- 醫療場景特定的結論解釋

### 教育/學習研究
**適用數據格式**：
- 不同教學方法的成績比較
- 學生分組實驗結果
- 學習效果評估

**範例問題**：
- "兩種教學方法哪個更好"
- "新的學習方式是否更有效"
- "分組學習的效果"

**AI 會自動識別**：
- 獨立樣本 t 檢定（組間比較）
- 教育場景特定的建議

### 品質控制/製造
**適用數據格式**：
- 產品規格測量數據
- 製程品質監控數據
- 標準符合性檢測

**範例問題**：
- "產品重量是否符合標準"
- "製程是否穩定"
- "品質是否達標"

**AI 會自動識別**：
- 單樣本 t 檢定（與標準值比較）
- 品質控制特定的建議

## 💡 使用範例

### 範例 1：血壓治療效果分析

**CSV 檔案內容**：
```csv
patient_id,blood_pressure_before,blood_pressure_after
1,140,132
2,155,148
3,138,135
...
```

**您的問題**：
> @hypertension_treatment.csv 治療方案對降低血壓的影響

**AI 的理解與分析**：
- 🧠 **檢測場景**：醫療/臨床研究
- 📊 **統計方法**：配對樣本 t 檢定
- 🔍 **分析欄位**：blood_pressure_before vs blood_pressure_after
- 📈 **方向性**：期望治療後血壓降低

**結果報告**：
- ✅ 快速結論（治療是否有效）
- 📊 詳細統計結果（t 值、p 值、信賴區間）
- 💡 實務建議（臨床應用建議）
- 📈 效果大小（平均改善程度）

### 範例 2：教學方法比較

**您的問題**：
> @teaching_methods.csv 這兩種教學方法哪個效果更好？

**AI 自動處理**：
- 識別為教育場景
- 選擇獨立樣本 t 檢定
- 比較不同組別的成績
- 提供教育建議

### 範例 3：產品品質檢測

**您的問題**：
> @product_weights.csv 我們的產品重量是否符合標準？

**AI 自動處理**：
- 識別為品質控制場景
- 選擇單樣本 t 檢定
- 與標準規格比較
- 提供品質管理建議

## 🎯 智能識別功能

### 場景自動識別
AI 會根據以下線索自動識別場景：
- **欄位名稱**：blood_pressure, treatment, score, weight 等
- **問題關鍵詞**：治療、教學、品質、標準等
- **數據結構**：配對數據、分組數據、測量數據

### 統計方法自動選擇
- **配對 t 檢定**：治療前後、訓練前後等配對數據
- **獨立樣本 t 檢定**：不同組別、不同方法的比較
- **單樣本 t 檢定**：與標準值、目標值的比較

### 方向性自動判斷
AI 會根據問題中的關鍵詞自動判斷：
- **降低、減少、改善** → 單尾檢定（期望減少）
- **提高、增加、改進** → 單尾檢定（期望增加）
- **比較、差異、效果** → 雙尾檢定

## 📋 最佳實踐

### CSV 檔案準備
1. **清晰的欄位名稱**：使用描述性的英文或中文名稱
2. **一致的數據格式**：確保數值欄位都是數字
3. **足夠的樣本數**：至少 10-20 個觀測值
4. **避免缺失值**：盡量填補或標記缺失數據

### 問題提問技巧
1. **使用場景關鍵詞**：治療、教學、品質等
2. **明確比較對象**：前後、組間、與標準
3. **表達期望方向**：改善、提高、降低等
4. **保持問題簡潔**：一句話描述研究問題

### 結果解釋
1. **關注快速結論**：AI 提供的實務意義解釋
2. **檢查統計顯著性**：p 值是否小於 0.05
3. **考慮效果大小**：不只看顯著性，也看實際差異
4. **結合專業判斷**：統計結果需要結合領域知識

## 🔧 技術細節

### 支援的檔案格式
- CSV 檔案（逗號分隔）
- UTF-8 編碼
- 最大檔案大小：10MB

### 統計參數
- **顯著水準**：α = 0.05（可調整）
- **信賴區間**：95%
- **檢定類型**：雙尾或單尾（自動判斷）

### 限制與注意事項
1. **數據品質**：需要足夠的有效數值
2. **統計假設**：假設數據符合 t 檢定的前提條件
3. **結果解釋**：統計顯著不等於實務重要
4. **專業判斷**：AI 建議需要結合專業知識

## 🆘 常見問題

### Q: 為什麼 AI 選擇了配對 t 檢定？
A: AI 檢測到您的數據包含 "before/after" 或 "pre/post" 類型的欄位，並且問題涉及治療或干預效果。

### Q: 如何讓 AI 選擇不同的統計方法？
A: 您可以在問題中明確指定，例如："請用獨立樣本 t 檢定比較..."

### Q: 結果不顯著是什麼意思？
A: 表示沒有足夠的統計證據支持存在差異，可能需要更大的樣本或調整研究設計。

### Q: 可以分析非數值數據嗎？
A: 目前主要支援數值數據的 t 檢定，未來會擴展到類別數據的卡方檢定等。

## 🔮 未來發展

計劃擴展的功能：
- **更多統計方法**：ANOVA、迴歸分析、卡方檢定
- **數據視覺化**：自動生成圖表
- **多檔案比較**：同時分析多個 CSV 檔案
- **報告匯出**：PDF 或 Word 格式的分析報告

---

**提示**：這個功能還在持續改進中，如果遇到問題或有建議，歡迎回饋！ 