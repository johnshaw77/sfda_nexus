# SFDA Nexus çŸ¥è­˜åº«ç®¡ç†åŠŸèƒ½è¦åŠƒ

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°
åœ¨ SFDA Nexus ç®¡ç†å¾Œå°å¢åŠ ã€ŒçŸ¥è­˜åº«ç®¡ç†ã€é¸å–®ï¼Œæä¾› KESS çŸ¥è­˜åº«çš„æŸ¥çœ‹å’Œç®¡ç†åŠŸèƒ½ï¼Œç‚ºæœªä¾†çš„ MCP æœå‹™åšæº–å‚™ã€‚

## ğŸ¯ å°ˆæ¡ˆèƒŒæ™¯
- **æºç³»çµ±**: SFDA KESS (Knowledge Extraction and Summary System)
- **ç›®æ¨™**: æ•´åˆ KESS çŸ¥è­˜åº«åˆ° Nexus ç®¡ç†ç•Œé¢
- **æœªä¾†è¦åŠƒ**: é–‹ç™¼ç‚º MCP æœå‹™ï¼Œä¾› AI æ™ºèƒ½é«”èª¿ç”¨

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹è¨­è¨ˆ

### 1. å¾Œç«¯ API å±¤
```
backend/src/
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ knowledge.route.js        # çŸ¥è­˜åº«è·¯ç”±
â”œâ”€â”€ controllers/
â”‚   â””â”€â”€ knowledge.controller.js   # çŸ¥è­˜åº«æ§åˆ¶å™¨
â”œâ”€â”€ models/
â”‚   â””â”€â”€ Knowledge.model.js        # çŸ¥è­˜åº«æ¨¡å‹
â””â”€â”€ services/
    â””â”€â”€ knowledge.service.js      # çŸ¥è­˜åº«æœå‹™å±¤
```

### 2. å‰ç«¯é é¢å±¤
```
frontend/src/
â”œâ”€â”€ views/admin/
â”‚   â””â”€â”€ knowledge/
â”‚       â”œâ”€â”€ index.vue            # ä¸»é é¢ï¼ˆäºŒæ¬„å¸ƒå±€ï¼‰
â”‚       â”œâ”€â”€ CategoryTree.vue     # å·¦å´åˆ†é¡æ¨¹
â”‚       â”œâ”€â”€ SummaryList.vue      # æ‘˜è¦åˆ—è¡¨
â”‚       â”œâ”€â”€ SummaryDetail.vue    # æ‘˜è¦è©³æƒ…
â”‚       â””â”€â”€ DocumentDetail.vue   # æ–‡ä»¶è©³æƒ…
â”œâ”€â”€ api/
â”‚   â””â”€â”€ knowledge.js             # çŸ¥è­˜åº« API
â””â”€â”€ stores/
    â””â”€â”€ knowledge.js             # çŸ¥è­˜åº«ç‹€æ…‹ç®¡ç†
```

## ğŸ“± é é¢æµç¨‹è¨­è¨ˆ

### ä¸»é é¢å¸ƒå±€ï¼ˆäºŒæ¬„è¨­è¨ˆï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    çŸ¥è­˜åº«ç®¡ç†                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å·¦å´æ¨¹ç‹€ç›®éŒ„ (30%)     â”‚      å³å´å…§å®¹å€åŸŸ (70%)         â”‚
â”‚                       â”‚                                â”‚
â”‚ ğŸ“ è£½é€ éƒ¨é–€ (MFG)      â”‚  â”Œâ”€ æœç´¢æ¬„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   ğŸ“„ æ–‡ä»¶åˆ†é¡1         â”‚  â”‚                          â”‚   â”‚
â”‚   ğŸ“„ æ–‡ä»¶åˆ†é¡2         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ ğŸ“ å“ä¿éƒ¨é–€ (QA)       â”‚                                â”‚
â”‚   ğŸ“„ æ–‡ä»¶åˆ†é¡1         â”‚  â”Œâ”€ å…§å®¹é¡¯ç¤ºå€åŸŸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ ğŸ“ è³‡è¨Šéƒ¨é–€ (IT)       â”‚  â”‚                          â”‚   â”‚
â”‚   ğŸ“„ æ–‡ä»¶åˆ†é¡1         â”‚  â”‚ â€¢ æ‘˜è¦åˆ—è¡¨                â”‚   â”‚
â”‚ ğŸ“ äººè³‡éƒ¨é–€ (HR)       â”‚  â”‚ â€¢ æ‘˜è¦è©³æƒ…                â”‚   â”‚
â”‚   ğŸ“„ æ–‡ä»¶åˆ†é¡1         â”‚  â”‚ â€¢ æ–‡ä»¶è©³æƒ…                â”‚   â”‚
â”‚ ğŸ“ è²¡å‹™éƒ¨é–€ (FIN)      â”‚  â”‚                          â”‚   â”‚
â”‚ ğŸ“ ç ”ç™¼éƒ¨é–€ (R&D)      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ ğŸ“ è¡Œæ”¿éƒ¨é–€ (ADMIN)    â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å°èˆªæµç¨‹
**ä¸‰å±¤å°èˆªçµæ§‹**: åˆ†é¡æ¨¹ â†’ æ‘˜è¦åˆ—è¡¨ â†’ æ‘˜è¦è©³æƒ… â†’ æ–‡ä»¶è©³æƒ…

1. **ç¬¬ä¸€å±¤**: é»æ“Šåˆ†é¡æ¨¹ç¯€é»ï¼Œé¡¯ç¤ºè©²åˆ†é¡ä¸‹çš„ AI æ‘˜è¦åˆ—è¡¨
2. **ç¬¬äºŒå±¤**: é»æ“Šæ‘˜è¦é …ç›®ï¼Œé¡¯ç¤ºæ‘˜è¦è©³ç´°å…§å®¹
3. **ç¬¬ä¸‰å±¤**: é»æ“Šã€ŒæŸ¥çœ‹åŸæ–‡ä»¶ã€ï¼Œé¡¯ç¤ºåŸå§‹æ–‡ä»¶è©³æƒ…

## ğŸ› ï¸ æŠ€è¡“å¯¦ç¾ç´°ç¯€

### 1. å¾Œç«¯ API è¨­è¨ˆ
```javascript
// knowledge.route.js - API ç«¯é»è¨­è¨ˆ
GET    /api/knowledge/categories          // ç²å–åˆ†é¡æ¨¹
GET    /api/knowledge/summaries/:categoryId // ç²å–åˆ†é¡ä¸‹çš„æ‘˜è¦åˆ—è¡¨
GET    /api/knowledge/summary/:id         // ç²å–æ‘˜è¦è©³æƒ…
GET    /api/knowledge/document/:id        // ç²å–æ–‡ä»¶è©³æƒ…
POST   /api/knowledge/search              // æœç´¢åŠŸèƒ½
PUT    /api/knowledge/summary/:id         // æ›´æ–°æ‘˜è¦
DELETE /api/knowledge/summary/:id         // åˆªé™¤æ‘˜è¦
GET    /api/knowledge/stats               // çµ±è¨ˆä¿¡æ¯
```

### 2. è³‡æ–™åº«æŸ¥è©¢é‚è¼¯
```sql
-- åˆ†é¡æ¨¹æŸ¥è©¢
SELECT id, category_code, category_name, description, 
       (SELECT COUNT(*) FROM kess_summaries WHERE category_id = kess_categories.id) as summary_count
FROM kess_categories 
WHERE is_active = 1 
ORDER BY sort_order;

-- æ‘˜è¦åˆ—è¡¨æŸ¥è©¢
SELECT s.id, s.title, s.summary_type, s.key_points, s.keywords, 
       s.created_at, d.file_name, d.file_size
FROM kess_summaries s
JOIN kess_documents d ON s.document_id = d.id
WHERE s.category_id = ? 
ORDER BY s.created_at DESC;

-- æ‘˜è¦è©³æƒ…æŸ¥è©¢
SELECT s.*, d.file_name, d.file_path, d.file_size, d.file_extension,
       d.created_at as document_created_at
FROM kess_summaries s
JOIN kess_documents d ON s.document_id = d.id
WHERE s.id = ?;
```

### 3. å‰ç«¯ç‹€æ…‹ç®¡ç†
```javascript
// stores/knowledge.js
export const useKnowledgeStore = defineStore('knowledge', {
  state: () => ({
    categories: [],
    selectedCategory: null,
    summaries: [],
    selectedSummary: null,
    documentDetail: null,
    loading: false,
    searchQuery: '',
    pagination: {
      current: 1,
      pageSize: 20,
      total: 0
    }
  }),
  
  actions: {
    async fetchCategories(),
    async fetchSummaries(categoryId, page = 1),
    async fetchSummaryDetail(summaryId),
    async fetchDocumentDetail(documentId),
    async searchSummaries(query)
  }
})
```

## ğŸ¨ UI/UX è¨­è¨ˆè¦ç¯„

### éŸ¿æ‡‰å¼è¨­è¨ˆ
- **æ¡Œé¢ç«¯** (â‰¥1200px): å·¦å´æ¨¹ç‹€ç›®éŒ„å›ºå®šå¯¬åº¦ 30%ï¼Œå³å´å…§å®¹å€åŸŸ 70%
- **å¹³æ¿ç«¯** (768px-1199px): å·¦å´å¯æŠ˜ç–Šï¼Œå³å´å…¨å¯¬é¡¯ç¤º
- **æ‰‹æ©Ÿç«¯** (<768px): æŠ½å±œå¼å´é‚Šæ¬„ï¼Œå…¨å±å…§å®¹é¡¯ç¤º

### äº¤äº’è¨­è¨ˆ
- **æ¨¹ç‹€ç›®éŒ„**: æ”¯æ´å±•é–‹/æŠ˜ç–Šï¼Œé¡¯ç¤ºæ–‡ä»¶æ•¸é‡å¾½ç« 
- **æ‘˜è¦åˆ—è¡¨**: åˆ†é åŠ è¼‰ï¼Œæ”¯æ´æœç´¢å’Œç¯©é¸
- **è©³æƒ…é é¢**: æ”¯æ´è¿”å›å°èˆªï¼Œé¢åŒ…å±‘è·¯å¾‘
- **æ“ä½œæŒ‰éˆ•**: ç·¨è¼¯ã€åˆªé™¤ã€ä¸‹è¼‰ç­‰åŠŸèƒ½

### è¦–è¦ºè¨­è¨ˆ
- **åœ–æ¨™ç³»çµ±**: ä½¿ç”¨ Ant Design åœ–æ¨™åº«
- **é¡è‰²æ–¹æ¡ˆ**: éµå¾ª Nexus ä¸»é¡Œè‰²å½©
- **å­—é«”æ’ç‰ˆ**: ä¸­æ–‡å„ªåŒ–çš„å­—é«”è¨­ç½®
- **æš—é»‘æ¨¡å¼**: å®Œæ•´æ”¯æ´æš—é»‘ä¸»é¡Œ

## ğŸ”§ é–‹ç™¼å¯¦æ–½æ­¥é©Ÿ

### Phase 1: å¾Œç«¯ API é–‹ç™¼
- [x] è¦åŠƒè¨­è¨ˆå®Œæˆ
- [x] å»ºç«‹çŸ¥è­˜åº«æ¨¡å‹å’Œæœå‹™å±¤
- [x] å¯¦ç¾åˆ†é¡æ¨¹å’Œæ‘˜è¦åˆ—è¡¨ API
- [x] å¯¦ç¾æœç´¢å’Œè©³æƒ…æŸ¥è©¢ API
- [x] æ·»åŠ è·¯ç”±åˆ°ä¸»è·¯ç”±æ–‡ä»¶
- [x] API åŸºç¤æ¸¬è©¦å®Œæˆ
- [ ] å®Œæ•´ API æ¸¬è©¦å’Œæ–‡æª”

### Phase 2: å‰ç«¯é é¢é–‹ç™¼
- [ ] å»ºç«‹çŸ¥è­˜åº«ç‹€æ…‹ç®¡ç†
- [ ] é–‹ç™¼ä¸»é é¢äºŒæ¬„å¸ƒå±€
- [ ] å¯¦ç¾åˆ†é¡æ¨¹çµ„ä»¶
- [ ] é–‹ç™¼æ‘˜è¦åˆ—è¡¨å’Œè©³æƒ…çµ„ä»¶
- [ ] æ•´åˆåˆ°ç®¡ç†å¾Œå°é¸å–®

### Phase 3: æ•´åˆå’Œå„ªåŒ–
- [ ] å¯¦ç¾éŸ¿æ‡‰å¼è¨­è¨ˆ
- [ ] æ·»åŠ æœç´¢å’Œç¯©é¸åŠŸèƒ½
- [ ] æ€§èƒ½å„ªåŒ–å’ŒéŒ¯èª¤è™•ç†
- [ ] ç”¨æˆ¶é«”é©—å„ªåŒ–

### Phase 4: MCP æœå‹™æº–å‚™
- [ ] æ¨™æº–åŒ– API æ¥å£
- [ ] å¯¦ç¾æ¬Šé™æ§åˆ¶
- [ ] æ·»åŠ å¿«å–æ©Ÿåˆ¶
- [ ] MCP å·¥å…·é–‹ç™¼

## ğŸ“Š è³‡æ–™çµæ§‹æ˜ å°„

### KESS è³‡æ–™åº«è¡¨æ ¼å°æ‡‰
- `kess_categories` â†’ åˆ†é¡æ¨¹ç¯€é»
- `kess_summaries` â†’ AI æ‘˜è¦æ•¸æ“š
- `kess_documents` â†’ åŸå§‹æ–‡ä»¶ä¿¡æ¯
- `kess_entities` â†’ å¯¦é«”è­˜åˆ¥çµæœ
- `kess_keywords` â†’ é—œéµå­—æå–çµæœ

### API éŸ¿æ‡‰æ ¼å¼
```json
{
  "success": true,
  "data": {
    "categories": [...],
    "summaries": [...],
    "pagination": {...}
  },
  "message": "æ“ä½œæˆåŠŸ",
  "timestamp": "2024-01-01T00:00:00Z"
}
```

## ğŸ”’ å®‰å…¨æ€§è€ƒæ…®

### æ¬Šé™æ§åˆ¶
- **ç®¡ç†å“¡æ¬Šé™**: å®Œæ•´çš„æŸ¥çœ‹ã€ç·¨è¼¯ã€åˆªé™¤æ¬Šé™
- **ä¸€èˆ¬ç”¨æˆ¶**: åƒ…æŸ¥çœ‹æ¬Šé™
- **API æ¬Šé™**: åŸºæ–¼ JWT Token é©—è­‰

### æ•¸æ“šå®‰å…¨
- **æ•æ„Ÿä¿¡æ¯éæ¿¾**: é¿å…æ´©éœ²æ–‡ä»¶è·¯å¾‘ç­‰æ•æ„Ÿä¿¡æ¯
- **SQL æ³¨å…¥é˜²è­·**: ä½¿ç”¨åƒæ•¸åŒ–æŸ¥è©¢
- **XSS é˜²è­·**: å‰ç«¯æ•¸æ“šæ¸…ç†å’Œè½‰ç¾©

## ğŸš€ æœªä¾†æ“´å±•

### MCP æœå‹™åŠŸèƒ½
- **çŸ¥è­˜æª¢ç´¢**: æ”¯æ´èªç¾©æœç´¢å’Œé—œéµå­—æœç´¢
- **æ‘˜è¦ç”Ÿæˆ**: ç‚ºæ–°æ–‡ä»¶è‡ªå‹•ç”Ÿæˆæ‘˜è¦
- **çŸ¥è­˜å•ç­”**: åŸºæ–¼çŸ¥è­˜åº«çš„æ™ºèƒ½å•ç­”
- **æ–‡ä»¶åˆ†æ**: æ–‡ä»¶å…§å®¹åˆ†æå’Œåˆ†é¡

### é«˜ç´šåŠŸèƒ½
- **çŸ¥è­˜åœ–è­œ**: æ§‹å»ºå¯¦é«”é—œä¿‚åœ–
- **æ™ºèƒ½æ¨è–¦**: ç›¸é—œæ–‡ä»¶æ¨è–¦
- **ç‰ˆæœ¬æ§åˆ¶**: æ‘˜è¦ç‰ˆæœ¬ç®¡ç†
- **å”ä½œåŠŸèƒ½**: å¤šäººå”ä½œç·¨è¼¯æ‘˜è¦

## ğŸ“ˆ æ€§èƒ½æŒ‡æ¨™

### ç›®æ¨™æŒ‡æ¨™
- **é é¢è¼‰å…¥æ™‚é–“**: < 2 ç§’
- **API éŸ¿æ‡‰æ™‚é–“**: < 500ms
- **æœç´¢éŸ¿æ‡‰æ™‚é–“**: < 1 ç§’
- **ä¸¦ç™¼ç”¨æˆ¶**: æ”¯æ´ 100+ ä¸¦ç™¼

### å„ªåŒ–ç­–ç•¥
- **è³‡æ–™åº«ç´¢å¼•**: å„ªåŒ–æŸ¥è©¢æ€§èƒ½
- **å‰ç«¯å¿«å–**: æ¸›å°‘é‡è¤‡è«‹æ±‚
- **åˆ†é åŠ è¼‰**: é¿å…å¤§é‡æ•¸æ“šè¼‰å…¥
- **CDN åŠ é€Ÿ**: éœæ…‹è³‡æºåŠ é€Ÿ

---

**æ–‡æª”ç‰ˆæœ¬**: v1.0  
**å‰µå»ºæ—¥æœŸ**: 2024-01-01  
**æœ€å¾Œæ›´æ–°**: 2024-01-01  
**è² è²¬äºº**: AI Assistant 